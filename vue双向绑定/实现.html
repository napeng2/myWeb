<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    var data={
  name:'napeng',
  age:'12'
}
observe(data)

function observe(data){
  if (typeof data!=='object') {
    return
  }

function defined(data,key,val){
  observe(val)
  Object.defineProperty(data,key,{
    enumerable:true,
    configurable:false,
    get:function(){
      // 读取一个值触发
      return val
    },
    set:function(newval){
      // 写入一个值触发
      console.log('发生变化了'+val+'----->'+newval);
    }
  })
}

  Object.keys(data).forEach(function(key){
      defined(data,key,data[key])
  })
}
  </script>
</body>
</html>